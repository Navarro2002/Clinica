@model System.Collections.Generic.List<Clinica.Models.Doctor>
@{
    ViewBag.Title = "Nueva Cita - Doctor";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<div class="container-fluid mt-3">
    <h2>Nueva Cita</h2>

    <ul class="nav nav-tabs">
        <li class="nav-item"><a class="nav-link" href="@Url.Action("NuevaCita","Paciente")">Especialidad</a></li>
        <li class="nav-item"><a class="nav-link active" href="#">Doctor</a></li>
        <li class="nav-item"><a class="nav-link disabled" href="#">Horario</a></li>
    </ul>

    <div class="card mt-3">
        <div class="card-body">
            <div class="mb-3">
                <label class="form-label">Buscar Doctor:</label>
                <input class="form-control" id="buscarDoctor" />
            </div>
            <div id="listaDoctores" class="row g-3">
                @foreach (var d in Model)
                {
                    <div class="col-md-4">
                        <a class="btn btn-outline-secondary w-100 text-start btn-doc" href="@Url.Action("SeleccionHorario","Paciente", new { idDoctor = d.IdDoctor })">
                            <i class="bi bi-person-badge me-2"></i>@(d.Nombres + " " + d.Apellidos)
                        </a>
                    </div>
                }
            </div>
            <div class="d-flex justify-content-between mt-4">
                <a class="btn btn-secondary" href="@Url.Action("NuevaCita","Paciente")">Regresar</a>
                <a class="btn btn-primary disabled">Siguiente</a>
            </div>
        </div>
    </div>
</div>

@section scripts{
<script>
    $(function(){
        $('#buscarDoctor').on('input', function(){
            var q = $(this).val().toLowerCase();
            $('#listaDoctores .btn-doc').each(function(){
                var t = $(this).text().toLowerCase();
                $(this).closest('.col-md-4').toggle(t.indexOf(q)!==-1);
            });
        });
    });
</script>
}
